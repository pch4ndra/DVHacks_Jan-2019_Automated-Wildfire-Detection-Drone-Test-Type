import requests
import json

latitude = str(37.7)
longitude = str(-122)
payload = {'limit':'3','language':'en-GB','unwrapBbox':'true','view':'Unified','lat':latitude,'lon':longitude,'key':'VoIcxwLaGD4uAeQG7AE7YKs3qr8Zwlpi'}
r = requests.get('https://api.tomtom.com/search/2/nearbySearch/%20fire%20department.json', params=payload)
r_dict = json.loads(r.text)

def fireStations():
	list_stations=""
	for i in range(3):
		fire_station = r_dict["results"][i]
		list_stations += fire_station["poi"]["name"]+" - Phone number: "+fire_station["poi"]["phone"]+" - Address: "+fire_station["address"]["streetNumber"]+" "+fire_station["address"]["streetName"]+"\n"
	return list_stations
#	print(i["dist"])
#print(fireStations())


#{"summary":
#{"query":"fire department","queryType":"NON_NEAR","queryTime":101,"numResults":9,"offset":0,"totalResults":21013,"fuzzyLevel":1,
#  "geoBias":
#		{"lat":42.446127,"lon":-60.1522189}},
#		"results":[{"type":"Street","id":"US/STR/p0/9017435","score":4.566,"dist":5020265.994984874,"address":{"streetName":"Fire Department","municipality":"Groveland","countrySecondarySubdivision":"Tuolumne","countryTertiarySubdivision":"Groveland","countrySubdivision":"CA","postalCode":"95321","countryCode":"US","country":"United States Of America","countryCodeISO3":"USA","freeformAddress":"Fire Department, Groveland, CA 95321","countrySubdivisionName":"California"},"position":{"lat":37.86079,"lon":-120.17861},"viewport":{"topLeftPoint":{"lat":37.86011,"lon":-120.17861},"btmRightPoint":{"lat":37.86079,"lon":-120.17922}}},{"type":"Street","id":"US/STR/p0/1271536","score":4.522,"dist":1742163.2436655532,"address":{"streetName":"Fire Department Rd","municipality":"Wilson's Mills, Clayton","countrySecondarySubdivision":"Johnston","countryTertiarySubdivision":"Wilson Mills","countrySubdivision":"NC","postalCode":"27527","countryCode":"US","country":"United States Of America","countryCodeISO3":"USA","freeformAddress":"Fire Department Rd, Wilson's Mills, NC 27527","countrySubdivisionName":"North Carolina"},"position":{"lat":35.59562,"lon":-78.35161},"viewport":{"topLeftPoint":{"lat":35.59546,"lon":-78.35161},"btmRightPoint":{"lat":35.59562,"lon":-78.35167}}},{"type":"Street","id":"US/STR/p0/2061565","score":4.522,"dist":1774530.8972345004,"address":{"streetName":"Fire Department Dr","municipalitySubdivision":"Yanceyville","municipality":"Yanceyville","countrySecondarySubdivision":"Caswell","countryTertiarySubdivision":"Yanceyville","countrySubdivision":"NC","postalCode":"27379","countryCode":"US","country":"United States Of America","countryCodeISO3":"USA","freeformAddress":"Fire Department Dr, Yanceyville, NC 27379","countrySubdivisionName":"North Carolina"},"position":{"lat":36.40246,"lon":-79.33631},"viewport":{"topLeftPoint":{"lat":36.40222,"lon":-79.33605},"btmRightPoint":{"lat":36.40279,"lon":-79.33639}}},{"type":"Street","id":"US/STR/p0/2241606","score":4.522,"dist":2888789.8805710524,"address":{"streetName":"Fire Department Dr","municipalitySubdivision":"Georgetown","municipality":"Georgetown","countrySecondarySubdivision":"Lincoln, Lawrence, Copiah","countryTertiarySubdivision":"District 2","countrySubdivision":"MS","postalCode":"39078","countryCode":"US","country":"United States Of America","countryCodeISO3":"USA","freeformAddress":"Fire Department Dr, Georgetown, MS 39078","countrySubdivisionName":"Mississippi"},"position":{"lat":31.86821,"lon":-90.16969},"viewport":{"topLeftPoint":{"lat":31.86821,"lon":-90.16854},"btmRightPoint":{"lat":31.86826,"lon":-90.16969}}},{"type":"Street","id":"US/STR/p0/2347788","score":4.522,"dist":2458397.9489920135,"address":{"streetName":"Fire Department Ave","municipalitySubdivision":"Marengo","municipality":"Marengo","countrySecondarySubdivision":"Ashland","countryTertiarySubdivision":"White River","countrySubdivision":"WI","postalCode":"54855","extendedPostalCode":"548552402,548553491","countryCode":"US","country":"United States Of America","countryCodeISO3":"USA","freeformAddress":"Fire Department Ave, Marengo, WI 54855","countrySubdivisionName":"Wisconsin"},"position":{"lat":46.42266,"lon":-90.81549},"viewport":{"topLeftPoint":{"lat":46.42146,"lon":-90.81511},"btmRightPoint":{"lat":46.42389,"lon":-90.81586}}},{"type":"Street","id":"US/STR/p0/2427694","score":4.522,"dist":1639640.1130681778,"address":{"streetName":"Fire Department Rd","municipalitySubdivision":"Tarrs","municipality":"Tarrs","countrySecondarySubdivision":"Westmoreland","countryTertiarySubdivision":"East Huntingdon","countrySubdivision":"PA","postalCode":"15688","extendedPostalCode":"156882121","countryCode":"US","country":"United States Of America","countryCodeISO3":"USA","freeformAddress":"Fire Department Rd, Tarrs, PA 15688","countrySubdivisionName":"Pennsylvania"},"position":{"lat":40.17114,"lon":-79.59264},"viewport":{"topLeftPoint":{"lat":40.16902,"lon":-79.59156},"btmRightPoint":{"lat":40.17357,"lon":-79.59373}}},{"type":"Street","id":"US/STR/p0/2748335","score":4.522,"dist":2247116.478449632,"address":{"streetName":"Fire Department Rd","municipality":"Allons","countrySecondarySubdivision":"Clay","countryTertiarySubdivision":"District 4","countrySubdivision":"TN","postalCode":"38541","countryCode":"US","country":"United States Of America","countryCodeISO3":"USA","freeformAddress":"Fire Department Rd, Allons, TN 38541","countrySubdivisionName":"Tennessee"},"position":{"lat":36.5471,"lon":-85.3169},"viewport":{"topLeftPoint":{"lat":36.546,"lon":-85.31607},"btmRightPoint":{"lat":36.54825,"lon":-85.31778}}},{"type":"Street","id":"US/STR/p0/2940298","score":4.522,"dist":1883155.53461732,"address":{"streetName":"Fire Department Ln","municipalitySubdivision":"Albany","municipality":"Albany","countrySecondarySubdivision":"Athens","countryTertiarySubdivision":"Lee","countrySubdivision":"OH","postalCode":"45710","extendedPostalCode":"457109556","countryCode":"US","country":"United States Of America","countryCodeISO3":"USA","freeformAddress":"Fire Department Ln, Albany, OH 45710","countrySubdivisionName":"Ohio"},"position":{"lat":39.23169,"lon":-82.19858},"viewport":{"topLeftPoint":{"lat":39.23159,"lon":-82.19851},"btmRightPoint":{"lat":39.23204,"lon":-82.1993}}},{"type":"Street","id":"US/STR/p0/3123521","score":4.522,"dist":1995879.0447074254,"address":{"streetName":"Fire Department Rd","municipality":"Cherryville","countrySecondarySubdivision":"Cleveland","countryTertiarySubdivision":"Cleveland","countrySubdivision":"NC","postalCode":"28021","countryCode":"US","country":"United States Of America","countryCodeISO3":"USA","freeformAddress":"Fire Department Rd, Cherryville, NC 28021","countrySubdivisionName":"North Carolina"},"position":{"lat":35.36018,"lon":-81.43265},"viewport":{"topLeftPoint":{"lat":35.36005,"lon":-81.43167},"btmRightPoint":{"lat":35.3611,"lon":-81.43296}}}]}
